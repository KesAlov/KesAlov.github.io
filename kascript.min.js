//kascript
 function kascript(code) {
 	const codeobj = new Map(Object.entries(JSON.parse(code)));
 var kavar = "";
     if( codeobj.has('var')) {
     	var kavar = codeobj.get('var');
    } 
    if( codeobj.has("alert") ){
    	alert( codeobj.get("alert"));
        if( codeobj.get("alert") == "var"){
        	alert(kavar);
       } 
   } 
   if( codeobj.has("file")){
   	
   setCookie("kascriptfile", codeobj.get("file"));
   if( codeobj.get("file") == "var"){
        	setCookie("kascriptfile", kavar);
       } 
      } 
    if( codeobj.has("gui")){
    	
    	const gui = new Map(Object.entries(JSON.parse(codeobj.get("gui"))));
    if( gui.has("button")){
    	const buttondata = new Map(Object.entries(JSON.parse(gui.get("button"))));
    document.write('<button onclick="' + buttondata.get("onclick") + '">' + buttondata.get("value") + '</button>');
    	
   } 
   if( gui.has("image")){
   	document.write('<img src="' + gui.get("image") + '">');
      } 
     } 
   
   	if(codeobj.has("setdoc")){
   	window.location.href = codeobj.get("setdoc");
   	} 
   
if( codeobj.has("log")){
	console.log( codeobj.get("log"));
	if( codeobj.get("log") == "var"){
        	console.log(kavar);
       } 
	} 

} 

function set_cookie ( name, value, expires_year, expires_month, expires_day, path, domain, secure )

{

  var cookie_string = name + "=" + escape ( value );

 

  if ( expires_year )

  {

    var expires = new Date ( expires_year, expires_month, expires_day );

    cookie_string += "; expires=" + expires.toGMTString();

  }

 

  if ( path )

    cookie_string += "; path=" + escape ( path );

 

  if ( domain )

    cookie_string += "; domain=" + escape ( domain );

 

  if ( secure )

    cookie_string += "; secure";

 

  document.cookie = cookie_string;

 

}

